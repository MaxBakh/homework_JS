<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>busket</title>
</head>

<body>



    <div class="cart">
        <h3>Корзина</h3>
        <table class="selected_items"></table>
        <span class="sum"></span>
    </div>
    <div class="items">
        <h3>Товары</h3>
        <div class="catalog">

        </div>
    </div>

    <script>

        var i1 = {
            name: "Dodge",
            imgSrc: "1.jpg",
            price: 1900000
        };

        var i2 = {
            name: "VW",
            imgSrc: "2.jpg",
            price: 1600000
        };

        var i3 = {
            name: "BMW",
            imgSrc: "3.jpg",
            price: 3000000
        };

        var itemsArray = [i1, i2, i3];

        var sum = 0;

        function init() {
            var catalog = document.getElementsByClassName("catalog")[0];
            var i, item;
            for (i = 0; i < itemsArray.length; i++) {
                item = document.createElement("div");
                item.setAttribute("class", "div_item");
                item.appendChild(document.createTextNode(itemsArray[i].name));
                item.style.position = "relative";
                item.style.border = "0.5px solid gray";

                itemImg = document.createElement("img");
                itemImg.src = itemsArray[i].imgSrc;
                itemImg.style.display = "block";
                itemImg.style.height = "120px";
                itemImg.style.width = "160px";

                item.appendChild(itemImg);

                item.appendChild(document.createTextNode(itemsArray[i].price + "\u20bd"));

                itemBtn = document.createElement("button");
                itemBtn.style.position = "absolute";
                itemBtn.style.right = "0";
                itemBtn.style.bottom = "0";
                itemBtn.textContent = "buy";
                itemBtn.setAttribute("id", "btn_" + i);
                itemBtn.onclick = addItem;
                item.appendChild(itemBtn);

                catalog.appendChild(item);
            }
        }

        function addItem(obj) {

            var selectedItem = itemsArray[obj.target.id.split("_")[1]];//выбранный товар из массива
            var selectedItems = document.getElementsByClassName("selected_items")[0];//basket
            var tr = selectedItems.insertRow(-1);
            var td = tr.insertCell(-1);
            td.appendChild(document.createTextNode(selectedItem.name));
            var td = tr.insertCell(-1);
            td.style.textAlign = "center";
            td.style.width = "100px";
            td.appendChild(document.createTextNode("    " + selectedItem.price + "\u20bd"));

            sum += selectedItem.price;
            document.getElementsByClassName("sum")[0].textContent = "Sum: " + sum + "\u20bd";
        }
        window.onload = init;




        // window.onload
    </script>


</body>

</html>